---
# Ansible inventory for Vexa.ai production cluster
# 5 nodes: 3 control planes + 2 workers

all:
  vars:
    ansible_user: root
    ansible_password: "cqbd1jZlC94YwddNbi33fJG"
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

    # Network configuration
    public_interface: eth0
    private_interface: eth1
    private_network: "10.0.0.0/22"
    vip_address: "10.0.0.100"

    # Kubernetes configuration
    cluster_name: "axiomic-voice"
    kubernetes_version: "1.31.0"
    pod_network_cidr: "10.244.0.0/16"
    service_cidr: "10.96.0.0/12"

    # Calico configuration
    calico_version: "v3.28.0"

    # DNS servers
    dns_servers:
      - "213.133.98.98"
      - "213.133.99.99"
      - "213.133.100.100"

  children:
    control_planes:
      hosts:
        cp-1:
          ansible_host: 212.47.66.31
          private_ip: 10.0.0.2
          hostname: axiomic-voice-cp-1
          keepalived_priority: 100  # MASTER
          is_first_cp: true

        cp-2:
          ansible_host: 212.47.66.35
          private_ip: 10.0.0.1
          hostname: axiomic-voice-cp-2
          keepalived_priority: 99   # BACKUP
          is_first_cp: false

        cp-3:
          ansible_host: 212.47.66.29
          private_ip: 10.0.0.4
          hostname: axiomic-voice-cp-3
          keepalived_priority: 98   # BACKUP
          is_first_cp: false

    workers:
      hosts:
        worker-1:
          ansible_host: 212.47.66.33
          private_ip: 10.0.0.3
          hostname: axiomic-voice-worker-1

        worker-2:
          ansible_host: 212.47.66.27
          private_ip: 10.0.0.5
          hostname: axiomic-voice-worker-2

    # Groupings for role application
    k8s_cluster:
      children:
        control_planes:
        workers:

    first_control_plane:
      hosts:
        cp-1:
